<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Global site tag (gtag.js) - Google Analytics by Zacky -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-163335381-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "UA-163335381-1");
    </script>
    <!-- myScript -->
    <script src="./script/script.js"></script>
    <link rel="stylesheet" href="./script/style.min.css" />

    <!-- bootstrap jsのみ(CSS from myScript) -->
    <!-- <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script> -->
    <!-- Materialize jsのみ(CSS from myScript) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- fontawesome -->
    <!-- <script
      src="https://kit.fontawesome.com/a5c7d26532.js"
      crossorigin="anonymous"
    ></script> -->

    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
      rel="stylesheet"
    />

    <title>KG Dashboard</title>
  </head>
  <body>
    <nav class="headerNav">
      <a href="#" class="brand-logo right">KG Dashboard</a>
      <div
        class="left clickable waves-effect waves-dark"
        id="menuSwitch"
        style="padding: 0 10px"
        onclick="document.querySelector('.sidebar').classList.toggle('sidebar_undisp');return false;"
      >
        <i class="material-icons">menu</i>
      </div>
    </nav>
    <div class="sidebar_container">
      <div class="sidebar">
        <h1 class="sidebar-mini d-none">KG Dashboard</h1>
        <ul id="menu"></ul>
      </div>
      <div class="sidebar_main">
        <div class="heroHeading pattern-dots-md" style="padding: 20px">
          <div class="card white hoverable">
            <div class="card-content">
              <span class="card-title">健康観察</span>
              <p>
                I am a very simple card. I am good at containing small bits of
                information. I am convenient because I require little markup to
                use effectively.
              </p>
            </div>
            <div class="card-action">
              <a
                href="https://teams.microsoft.com/_#/school/files/WEB%E3%82%B5%E3%82%A4%E3%83%88%E9%96%A2%E4%BF%82?threadId=19%3Af7977620b7234abf8ccc2a9972d71e3f%40thread.tacv2&ctx=channel&context=%25E4%25BA%2588%25E7%25B4%2584%25E3%2582%25B7%25E3%2582%25B9%25E3%2583%2586%25E3%2583%25A0v2020&rootfolder=%252Fsites%252Fmsteams_1d13d1%252FShared%2520Documents%252FWEB%25E3%2582%25B5%25E3%2582%25A4%25E3%2583%2588%25E9%2596%25A2%25E4%25BF%2582%252F%25E4%25BA%2588%25E7%25B4%2584%25E3%2582%25B7%25E3%2582%25B9%25E3%2583%2586%25E3%2583%25A0v2020"
                >相談関連files</a
              >
              <a href="https://hs.kgef.ac.jp/kobetsu/mstmnt/"
                >個別相談MST管理用</a
              >
            </div>
          </div>
          <div class="card white hoverable">
            <div class="card-content">
              <span class="card-title">Weather</span>
              <div id="weatherArea"></div>
              <div id="weatherInfo">
                <div class="loadingSpinner"></div>
              </div>
              <script>
                import("./script/jma.js").then((m) => {
                  (async () => {
                    let JMA = new m.JMA();
                    // DB取得
                    await JMA.init();
                    // 選択ボックス表示
                    await JMA.setSelectboxes(document.querySelector("#weatherArea"));
                    // 初期発火
                    await JMA.setWeather(document.querySelector("#weatherInfo"));
                  })();
                });
              </script>
            </div>
            <div class="card-action">
              <a href="#">This is a link</a>
              <a href="#">This is a link</a>
            </div>
          </div>
          <div class="card white hoverable">
            <div class="card-content">
              <span class="card-title">RSS</span>
              <p id="KGrss"></p>
              <script>
                // fetch(
                //   "https://cors-anywhere.herokuapp.com/"+
                // "https://jsh.kgef.ac.jp/kg/?feed")
                //   .then((response) => response.text())
                //   .then((str) =>
                //     new window.DOMParser().parseFromString(str, "text/xml")
                //   )
                //   .then((data) => console.log(data));

                // import("./script/libs/rss-parser.min.js").then((m) => {
                //   const CORS_PROXY = "https://cors-anywhere.herokuapp.com/";

                //   let parser = new m.RSSParser();
                //   parser.parseURL(
                //     // CORS_PROXY +
                //     "https://jsh.kgef.ac.jp/feed/",
                //     function (err, feed) {
                //       if (err) throw err;
                //       console.log(feed.title);
                //       feed.items.forEach(function (entry) {
                //         console.log(entry.title + ":" + entry.link);
                //       });
                //     }
                //   );
                // });
              </script>
            </div>
            <div class="card-action">
              <a
                href="https://teams.microsoft.com/_#/school/files/WEB%E3%82%B5%E3%82%A4%E3%83%88%E9%96%A2%E4%BF%82?threadId=19%3Af7977620b7234abf8ccc2a9972d71e3f%40thread.tacv2&ctx=channel&context=%25E4%25BA%2588%25E7%25B4%2584%25E3%2582%25B7%25E3%2582%25B9%25E3%2583%2586%25E3%2583%25A0v2020&rootfolder=%252Fsites%252Fmsteams_1d13d1%252FShared%2520Documents%252FWEB%25E3%2582%25B5%25E3%2582%25A4%25E3%2583%2588%25E9%2596%25A2%25E4%25BF%2582%252F%25E4%25BA%2588%25E7%25B4%2584%25E3%2582%25B7%25E3%2582%25B9%25E3%2583%2586%25E3%2583%25A0v2020"
                >相談関連files</a
              >
              <a href="https://hs.kgef.ac.jp/kobetsu/mstmnt/"
                >個別相談MST管理用</a
              >
            </div>
          </div>
        </div>
        <article>
          <h2 id="health">健康観察</h2>
          <div>
            <div class="fixed-action-btn">
              <a class="btn-floating btn-large red">
                <i class="large material-icons">mode_edit</i>
              </a>
              <ul>
                <li>
                  <a class="btn-floating red"
                    ><i class="material-icons">insert_chart</i></a
                  >
                </li>
                <li>
                  <a class="btn-floating yellow darken-1"
                    ><i class="material-icons">format_quote</i></a
                  >
                </li>
                <li>
                  <a class="btn-floating green"
                    ><i class="material-icons">publish</i></a
                  >
                </li>
                <li>
                  <a class="btn-floating blue"
                    ><i class="material-icons">attach_file</i></a
                  >
                </li>
              </ul>
            </div>
            aa
          </div>
        </article>
        <article>
          <h2 id="weather">気象情報</h2>
        </article>
        <article>
          <h2 id="links">便利リンク</h2>
          <div id="testArea">
            <div class="testdiv">a</div>
            <div class="testdiv">a</div>
            <div class="testdiv">a</div>
          </div>
          <script>
            let wrap = document.querySelector("#testArea");
            let test = wrap.querySelectorAll(".testdiv");
            test[0].remove();
            let e = document.createElement("div");
            e.innerText = "aa";
            test[2].parentNode.replaceChild(e, test[2]);
            // test[2] = e;
            a = e;
            a.style.background = "red";
          </script>
        </article>
        <article>
          <h2 id="setting"><span class="material-icons">settings</span>設定</h2>

          <div>
            <h3>背景設定</h3>
            <form>
              <fieldset id="bgSettingForm" class="bgPhotoList"></fieldset>
            </form>
            <script>
              import("./script/bgSelector.js").then((m) => {
                let BG = new m.bgSelector();
                BG.setSelector(document.getElementById("bgSettingForm"));
              });
            </script>
          </div>
          <div>
            <h3>メニュー設定</h3>
          </div>
          <hr />
          <div>
            <a
              class="github-button"
              href="https://github.com/Zacky0922/KG"
              data-size="large"
              aria-label=""
            >
              Repository
            </a>
          </div>
        </article>
        <span id="test">aa</span>
        <script>
          for (let i = 0; i < 100; i++) {
            document.write("hoge<br>");
          }
        </script>
      </div>
    </div>
    <footer class="spike-before">ふったー</footer>
  </body>
</html>
