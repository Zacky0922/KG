<!DOCTYPE html>
<!--HTML5-->
<html lang="ja">

<head>
    <!-- meta設定 -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" charset="UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/ccs" charset="UTF-8" />

    <!-- Global site tag (gtag.js) - Google Analytics by KG-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116915593-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-116915593-1');
    </script>

    <!-- 画面設定 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- JS/CSS -->
    <script type="module" src="./importer.js"></script>
    <link rel="stylesheet" type="text/css" href="./script/kgfes.css">

    <title>Information</title>

</head>

<body>
    <div class="container">
        <section id="kgHeader" class="row"></section>
        <section class="row">

            <section class="col-xs-12">
                <div class="box">
                    <h2 class="zHeadList">Live!!</h2>
                    <div class="zCentering">
                        たくさんのご視聴ありがとうございました！
                    </div>
<div class="zCentering preHide zUndisp">
    <a href="https://www.youtube.com/watch?v=zYH_HLlWRrI&feature=youtu.be" target="_blank" class="zBtn"
        style="width:50%;height:20vh;margin:10px auto;">9月13日(日)13時～<br />リピート放送！</a>
</div>
                    <div class="zCentering preHide zUndisp">
                        <div style="display: inline-block;">
                            <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=z327fGQzzUGZdki7xIvYKpHVAnr2D4tFhVOJ99MGdnVURTgzQVBSSTBQOVc5TUg1UFUyVUFPSVROVCQlQCN0PWcu"
                                target="_blank" class="zBtn">生放送メッセージフォーム</a><br />
                            あなたのコメントが放送中に読まれるかも！？
                        </div>
                    </div>
                </div>
            </section>
        </section>
        <section class="row">

            <section class="col-xs-12">
                <div class="box">
                    <h2 class="zHeadList">Schedule</h2>

                    <style>
                        #timetableCSV table tbody tr:hover {
                            background: rgba(255, 192, 192, 0.5);
                        }

                        #timetableCSV table tr td:nth-child(4) {
                            text-align: center;
                        }

                        #timetableCSV table tr td:nth-child(4)>a {
                            display: block;
                        }

                        #timetableCSV table tr td:nth-child(4) img {
                            width: 100px;
                        }
                        .movieCategory{
                            display: inline-block;
                            border-radius: 1.5em;
                            border:1px #f00 solid;
                            background:#fcc;
                            padding:5px 10px;
                            margin:5px;
                            white-space: nowrap;
                        }
                    </style>
                    <div class="xScrollable" id="timetableCSV"></div>
                    <script type="module">
                        import 'https://code.jquery.com/jquery-3.3.1.min.js';
                        import "https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/jquery.tablesorter.min.js";
                        import "https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/extras/jquery.metadata.min.js";
                        // データ格納変数
                        let data = new Array();
                        // データ表示部
                        let wrap = document.getElementById("timetableCSV");
                        let tbl = document.createElement("table");
                        let thead = document.createElement("thead");
                        let tbody = document.createElement("tbody");
                        tbl.appendChild(thead);
                        tbl.appendChild(tbody);
                        // CSV取得用HTTPリクエスト
                        let xhr = new XMLHttpRequest();
                        xhr.open("GET", "./timetable.csv", true);    // 第3引数false＝同期処理（読込完了までwait）
                        xhr.send(null);
                        xhr.onload = function () {
                            data = xhr.responseText.split("\n");
                            for (let i = 0; i < data.length; ++i) {
                                data[i] = data[i].split(",");
                                // 表示設定
                                let tr = document.createElement("tr");
                                let td = new Array();
                                td[0] = (i == 0 ? document.createElement("th") : document.createElement("td"));
                                td[0].innerHTML = data[i][2];
                                td[1] = (i == 0 ? document.createElement("th") : document.createElement("td"));
                                if (i == 0) {
                                    td[1].innerHTML = "団体名／出展名／カテゴリ";
                                } else {
                                    td[1].innerHTML = "<div>" + data[i][0] + "<br/>" + data[i][1] + "</div>";
                                    data[i][3] = data[i][3].split("　");
                                    for (let j = 0; j < data[i][3].length; j++) {
                                        td[1].innerHTML += "<span class='movieCategory'>"+data[i][3][j]+"</span>";
                                    }
                                }
                                td[2] = (i == 0 ? document.createElement("th") : document.createElement("td"));
                                if (i == 0) {
                                    td[2].innerHTML = "常設動画リンク";
                                } else if (data[i].length > 4) {
                                    for (let j = 4; j < data[i].length; j++) {
                                        td[2].innerHTML += '<a target="_blank" style="display:block;" href="' + data[i][j] + '">' +
                                            '<span class="material-icons">videocam</span>' +
                                            "動画" + (data[i].length == 5 ? "" : j - 3) +
                                            '</a>';
                                    }
                                }
                                tr.appendChild(td[0]);
                                tr.appendChild(td[1]);
                                tr.appendChild(td[2]);
                                if (i == 0) {
                                    thead.appendChild(tr);
                                } else {
                                    tbody.appendChild(tr);
                                }
                                wrap.appendChild(tbl);
                            }
                            $("#timetableCSV table").tablesorter({
                                sortList: [[0, 0]]
                            });
                        }
                    </script>

                    <script type="module">
                        import 'https://code.jquery.com/jquery-3.3.1.min.js';
                        import "https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/jquery.tablesorter.min.js";
                        import "https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/extras/jquery.metadata.min.js";

                    </script>
                </div>
            </section>
        </section>
        <section class="row">

            <section class="col-xs-12">
                <div class="box">
                    <h2 class="zHeadList">常設動画プレイリスト(YouTube)</h2>

                    <div class="zGridFit" style="grid-template-columns:repeat(auto-fit, 150px);">
                        <a href="https://www.youtube.com/playlist?list=PLlC86PZhOEIenZrl0_rmw_kR7QMUwjOeI"
                            target="_blank" class="zBtn">クラス動画<br />コンテスト</a>
                        <a href="https://www.youtube.com/playlist?list=PLlC86PZhOEIfo8iTs_RVJuNe7V5pSIBal"
                            target="_blank" class="zBtn">食物調理<br />コース</a>
                        <a href="https://www.youtube.com/playlist?list=PLlC86PZhOEIdRcRE9_ScIjFollkX3h5lt"
                            target="_blank" class="zBtn">演技・演奏系</a>
                        <a href="https://www.youtube.com/playlist?list=PLlC86PZhOEIfD--YGUnKXj6cwj19AXkys"
                            target="_blank" class="zBtn">その他</a>
                    </div>
                </div>
            </section>


        </section>
        <section id="kgFooter" class="row"></section>
    </div>
</body>

</html>